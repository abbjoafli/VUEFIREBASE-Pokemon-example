{"version":3,"sources":["webpack:///./src/views/login/index.vue?9678","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?e0c5","webpack:///./src/views/login/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","lazy-validation","model","value","callback","$$v","valid","expression","rules","emailRules","label","required","email","ForgotPass","append-icon","show1","passwordRules","type","name","counter","on","click:append","$event","password","staticClass","dark","disabled","loading","color","click","login","left","_v","registera","xs12","depressed","ResetPassword","staticRenderFns","loginvue_type_script_lang_js_","data","v","test","watch","computed","methods","_objectSpread","Object","vuex_esm","_this","$refs","form","validate","firebase","auth","createUserWithEmailAndPassword","then","showSuccessSnackbar","concat","$router","replace","catch","error","errorMessage","message","showErrorSnackbar","reset","_this2","temp","signInWithEmailAndPassword","console","log","err","sendPasswordResetEmail","resetValidation","views_loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0f1194.1b59861e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-container',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"label\":\"E-mail\",\"required\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),(_vm.ForgotPass == false)?_c('div',[_c('v-text-field',{attrs:{\"append-icon\":_vm.show1 ? 'visibility' : 'visibility_off',\"rules\":_vm.passwordRules,\"type\":_vm.show1 ? 'text' : 'password',\"name\":\"input-10-1\",\"label\":\"Lösenord\",\"counter\":\"\",\"required\":\"\"},on:{\"click:append\":function($event){_vm.show1 = !_vm.show1}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('v-btn',{staticClass:\"mt-2\",attrs:{\"dark\":\"\",\"disabled\":!_vm.valid,\"loading\":_vm.loading,\"color\":\"success\"},on:{\"click\":_vm.login}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"account_box\")]),_vm._v(\"Logga in\\n        \")],1),_c('v-btn',{staticClass:\"mt-2\",attrs:{\"dark\":\"\",\"disabled\":!_vm.valid,\"loading\":_vm.loading,\"color\":\"indigo darken-3\"},on:{\"click\":_vm.registera}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"done\")]),_vm._v(\"Registera\\n        \")],1),_c('v-flex',[_c('p',{on:{\"click\":function($event){_vm.ForgotPass = true}}},[_vm._v(\"Glömt lösenord?\")])])],1):_c('div',[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-btn',{staticClass:\"mt-2\",attrs:{\"depressed\":\"\",\"disabled\":!_vm.valid,\"loading\":_vm.loading,\"color\":\"success\"},on:{\"click\":_vm.ResetPassword}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"vpn_key\")]),_vm._v(\"\\n            Begär nytt lösenord!\")],1)],1),_c('v-flex',[_c('p',{on:{\"click\":function($event){_vm.ForgotPass = false}}},[_vm._v(\"Tillbaka\")])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-container>\r\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n        <v-text-field\r\n          v-model=\"email\"\r\n          :rules=\"emailRules\"\r\n          label=\"E-mail\"\r\n          required\r\n        ></v-text-field>\r\n\r\n        <div v-if=\"ForgotPass == false\">\r\n          <v-text-field\r\n            v-model=\"password\"\r\n            :append-icon=\"show1 ? 'visibility' : 'visibility_off'\"\r\n            :rules=\"passwordRules\"\r\n            :type=\"show1 ? 'text' : 'password'\"\r\n            name=\"input-10-1\"\r\n            label=\"Lösenord\"\r\n            counter\r\n            required\r\n            @click:append=\"show1 = !show1\"\r\n          ></v-text-field>\r\n\r\n          <v-btn\r\n            class=\"mt-2\"\r\n            dark\r\n            :disabled=\"!valid\"\r\n            :loading=\"loading\"\r\n            color=\"success\"\r\n            @click=\"login\"\r\n          >\r\n            <v-icon left>account_box</v-icon>Logga in\r\n          </v-btn>\r\n\r\n          <v-btn\r\n            class=\"mt-2\"\r\n            dark\r\n            :disabled=\"!valid\"\r\n            :loading=\"loading\"\r\n            color=\"indigo darken-3\"\r\n            @click=\"registera\"\r\n          >\r\n            <v-icon left>done</v-icon>Registera\r\n          </v-btn>\r\n\r\n          <v-flex>\r\n            <p @click=\"ForgotPass = true\">Glömt lösenord?</p>\r\n          </v-flex>\r\n        </div>\r\n        <div v-else>\r\n          <v-flex xs12>\r\n            <v-btn\r\n              class=\"mt-2\"\r\n              depressed\r\n              :disabled=\"!valid\"\r\n              :loading=\"loading\"\r\n              color=\"success\"\r\n              @click=\"ResetPassword\"\r\n            >\r\n              <v-icon left>vpn_key</v-icon>\r\n              Begär nytt lösenord!</v-btn\r\n            >\r\n          </v-flex>\r\n          <v-flex>\r\n            <p @click=\"ForgotPass = false\">Tillbaka</p>\r\n          </v-flex>\r\n        </div>\r\n      </v-form>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { firebase } from \"@/firebase\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  data: () => ({\r\n    ForgotPass: false,\r\n    show1: false,\r\n    loading: false,\r\n    valid: true,\r\n    password: \"\",\r\n    email: \"\",\r\n    passwordRules: [(v) => !!v || \"Obligatoriskt fält\"],\r\n    emailRules: [\r\n      (v) => !!v || \"Du måste fylla i E-mail\",\r\n      (v) => /.+@.+/.test(v) || \"Fel format\",\r\n    ],\r\n  }),\r\n  watch: {},\r\n  computed: {},\r\n  methods: {\r\n    ...mapActions([\"showErrorSnackbar\", \"showSuccessSnackbar\"]),\r\n    registera() {\r\n      if (this.$refs.form.validate()) {\r\n        this.loading = true;\r\n        firebase\r\n          .auth()\r\n          .createUserWithEmailAndPassword(this.email, this.password)\r\n          .then(() => {\r\n            this.loading = false;\r\n            this.showSuccessSnackbar(`Konto skapat för ${this.email}`);\r\n          })\r\n          .then(() => {\r\n            this.$router.replace(\"/homeuser\");\r\n          })\r\n          .catch((error) => {\r\n            this.loading = false;\r\n            const errorMessage = error.message || \"Någonting gick fel\";\r\n            this.showErrorSnackbar(errorMessage);\r\n            this.reset();\r\n          });\r\n      }\r\n    },\r\n    login() {\r\n      if (this.$refs.form.validate()) {\r\n        this.loading = true;\r\n        let temp = this;\r\n        var auth = firebase.auth();\r\n        auth\r\n          .signInWithEmailAndPassword(this.email, this.password)\r\n          .then(() => {\r\n            this.loading = false;\r\n            console.log(\"logga in!\");\r\n            temp.showSuccessSnackbar(\r\n              `Välkommen ${this.email}, du loggas nu in`\r\n            );\r\n            this.$router.replace(\"/homeuser\");\r\n          })\r\n          .catch((err) => {\r\n            this.loading = false;\r\n            this.showErrorSnackbar(err.message);\r\n            this.reset();\r\n          });\r\n      }\r\n    },\r\n\r\n    ResetPassword() {\r\n      var auth = firebase.auth();\r\n      let temp = this;\r\n      auth\r\n        .sendPasswordResetEmail(this.email)\r\n        .then(function () {\r\n          temp.showSuccessSnackbar(\r\n            `Ett nytt lösenord har skickats till din mail.`\r\n          );\r\n\r\n          temp.ForgotPass = false;\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n          this.showErrorSnackbar(error.message);\r\n          console.log(\"Error\" + error);\r\n        });\r\n    },\r\n    reset() {\r\n      this.$refs.form.reset();\r\n    },\r\n    resetValidation() {\r\n      this.$refs.form.resetValidation();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=34be3245&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}